<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script>
var display_width = 1280;
var display_height = 720;
var legends = {
  'bloodhound': null,
  'gibraltar': null,
  'lifeline': null,
  'pathfinder': null,
  'wraith': null,
  'bangalore': null,
  'caustic': null,
  'mirage': null,
  'octane': null,
  'wattson': null,
  'crypto': null,
  'revenant': null,
  'loba': null,
  'rampart': null,
  'horizon': null,
  'fuse': null,
  'valkyrie': null,
  'seer': null,
  'ash': null,
  'mad-maggie': null,
};

var start = function() {
  var overlay = document.getElementById('overlay');
  overlay.width = display_width;
  overlay.height = display_height;
  if (overlay.getContext) {
    var context = overlay.getContext('2d');
    var background = document.getElementById('background');
    context.drawImage(background, 0, 0, display_width, display_height);

    for (const [name, value] of Object.entries(legends)) {
      if (!value) {
        legends[name] = {
          'img': new Image(),
          'enabled': false,
        };
        legends[name].img.addEventListener('load', function() {
          context.drawImage(legends[name].img,
              0, 0, display_width, display_height);
          legends[name].enabled = true;
        }, false);
        legends[name].img.src = "img/" + name + ".png";
      }
    }
  } else {
    alert('There is something wrong with the <canvas> element.');
  }
}
    </script>
  </head>

  <body onload="start();" style="border:0;margin:0;">
    <canvas id="overlay" style="border:0;padding:0;">
      Hmm... something is keeping your browser from rendering the CANVAS element.
    </canvas>

    <!-- prefetch the UI images -->
    <div style="display:none;">
      <img id="background" src="img/all-legends-greyscale.png">
      <!-- <img id="spin" src="img/spin.png"> -->
      <!-- <img id="blank" src="img/blank.png"> -->
    </div>
  </body>
</html>